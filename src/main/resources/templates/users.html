<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout ('Usuarios', ~{::body},'users')}">
  
  <body>
    <h1>Todos los usuarios</h1>
    <!--Table-->
<table id="tablePreview" class="table">
    <!--Table head-->
      <thead>
        <tr>
          <th>#</th>
          <th>Nombre</th>
          <th>Edad</th>
          <th>Editar</th>
          <th>Borrar</th>
        </tr>
      </thead>
      <!--Table head-->
      <!--Table body-->
      <tbody>
        <tr th:each="u,iterStat : ${users}">
            <th th:text="${u.id}">1</th>
            <td th:text="${u.name}">Alberto</td>
            <td th:text="${u.age}">31</td>
            <td>
              <!-- https://stackoverflow.com/questions/25027801/how-to-set-thymeleaf-thfield-value-from-other-variable -->
                <form action="#" th:action="@{/editUser}" th:object="${user}" method="post">
                    <input type="hidden" name="id" th:value="${u.id}">
                    <input type="hidden" name="name" th:value="${u.name}">
                    <input type="hidden" name="age" th:value="${u.age}">
                    <input type="submit">
                </form>
            </td>
            <td>Borrar</td>
        </tr>
      </tbody>
      <!--Table body-->
    </table>
    <!--Table-->
  </body>
</html>